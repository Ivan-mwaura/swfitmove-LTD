<!DOCTYPE html>
<html>
  
<!-- Mirrored from themeenergy.com/themes/html/transfers/account.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 06 Feb 2025 18:15:22 GMT -->
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="keywords" content="Transfers - Private Transport and Car Hire HTML Template" />
	<meta name="description" content="Transfers - Private Transport and Car Hire HTML Template">
	<meta name="author" content="themeenergy.com">
	
	<title>Transfers - My account</title>
	
	<link rel="stylesheet" href="css/styler.css" />
	<link rel="stylesheet" href="css/theme-pink.css" id="template-color" />
	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
	<link rel="stylesheet" href="css/jquery-ui.theme.css" />
	<link rel="stylesheet" href="css/style.css" />
	<link rel="stylesheet" href="css/animate.css" />
	<link rel="stylesheet" href="css/icons.css" />
	<link href='http://fonts.googleapis.com/css?family=Raleway:400,500,600,700|Montserrat:400,700' rel='stylesheet' type='text/css'>
	<link rel="shortcut icon" href="images/favicon.ico" />
	<script src="https://use.fontawesome.com/e808bf9397.js"></script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  
  <body>
	<!-- Preloader -->
	<div class="preloader">
		<div id="followingBallsG">
			<div id="followingBallsG_1" class="followingBallsG"></div>
			<div id="followingBallsG_2" class="followingBallsG"></div>
			<div id="followingBallsG_3" class="followingBallsG"></div>
			<div id="followingBallsG_4" class="followingBallsG"></div>
		</div>
	</div>
	<!-- //Preloader -->
	
<!-- Header -->
<header class="header" role="banner">
    <div class="wrap" style="position: relative;">
        <!-- Logo -->
        <div class="logo">
            <a href="index.html" title="swiftmove" style="font-size: large; font-weight: bold;">
                <img src="images/transfers.jpg" alt="swiftmove" /> swiftmove
            </a>
        </div>
        <!-- //Logo -->
        
        <!-- Main Nav -->
        <nav role="navigation" class="main-nav">
            <ul>
                <li class="active"><a href="index.html" title="">Home</a></li>
                <li><a href="contact.html" title="Contact">Contact</a></li>
                <li><a href="#" title="Pages">Pages</a>
                    <div>
                        <div class="one-fourth">
                            <h2>Booking</h2>
                            <ul>
                                <li><a href="search-results.html" title="Search results page">Booking step 1</a></li>
                                <li><a href="booking-step1.html" title="Booking step 1">Booking step 2</a></li>
                                <li><a href="booking-step2.html" title="Booking step 2">Booking step 3</a></li>
                                <li><a href="booking-step3.html" title="Booking step 3">Booking step 4</a></li>
                            </ul>
                        </div>
                        <div class="one-fourth">
                            <h2>Corporate</h2>
                            <ul>
                                <li><a href="about.html" title="About u">About us</a></li>
                                <li><a href="services.html" title="Services">Services</a></li>
                                <li><a href="faq.html" title="Faq">Faq</a></li>
                                <li><a href="contact.html" title="Contact">Contact</a></li>
                            </ul>
                        </div>
                        <div class="one-fourth">
                            <h2>Special</h2>
                            <ul>
                                <li><a href="login.html" title="Login">Login</a></li>
                                <li><a href="register.html" title="Register">Register</a></li>
                                <li><a href="account.html" title="My account">My account</a></li>
                                <li><a href="error.html" title="404 error">404 error</a></li>
                            </ul>
                        </div>
                    </div>
					
                </li>
            </ul>
        </nav>
        <!-- //Main Nav -->

    </div>

			        <!-- User Info Dropdown (appears after login) -->
					<div id="user-info" class="user-info">
						<span id="user-initials"></span> <!-- Display user initials here -->
						<div class="dropdown">
							<button class="dropbtn">â–¼</button>
							<div class="dropdown-content">
								<a href="account.html" id="my-account-link">My Bookings</a>
								<a href="#" id="sign-out-link">Sign Out</a>
							</div>
						</div>
					</div>
</header>
	
	<!-- Main -->
	<main class="main" role="main">
		<!-- Page info -->
		<header class="site-title color">
			<div class="wrap">
				<div class="container">
					<h1>My account</h1>
					<nav role="navigation" class="breadcrumbs">
						<ul>
							<li><a href="index.html" title="Home">Home</a></li>
							<li>My account</li>
						</ul>
					</nav>
				</div>
			</div>
		</header>
		<!-- //Page info -->
		
		
		<div class="wrap">
			<div class="row">
				
				<!--- Sidebar -->
				<aside class="one-fourth sidebar left">
					<!-- Widget -->
					<div class="widget">
						<ul class="categories">
							
							<li><a href="#tab2">My bookings</a></li>
						</ul>
					</div>
					<!-- //Widget -->
				</aside>
				<!--- //Sidebar -->
				
				<!--- Content -->
				<div class="three-fourth content">
					<!-- Tab -->
					<article class="single" id="tab2">
						<!-- This is where bookings will be inserted dynamically -->
						<div id="my-bookings">
							<!-- Booking items will be dynamically added here -->
						</div>
					</article>
					
				</div>
				<!--- //Content -->
			</div>
		</div>
	</main>
	<!-- //Main -->
	
<!-- Footer -->
<footer class="footer black" role="contentinfo">
    <div class="wrap">
        <div class="row">
            <!-- Column -->
            <article class="one-half">
                <h6>About Us</h6>
                <p>We are a transport solution provider, committed to offering reliable, fast, and comfortable services. Our goal is to make your travel experience smooth and hassle-free. We focus on providing the best customer service with innovative solutions to meet your needs. With years of experience in the industry, we aim to deliver excellent value and service to our clients.</p>
            </article>
            <!-- //Column -->

            <!-- Column -->
            <article class="one-fourth">
                <h6>Need Help?</h6>
                <p>Contact us via phone or email:</p>
                <p class="contact-data"><span class="icon icon-themeenergy_call"></span> +1 555 555 555</p>
                <p class="contact-data"><span class="icon icon-themeenergy_mail-2"></span> <a href="mailto:help@swiftmove.com">help@swiftmove.com</a></p>
            </article>
            <!-- //Column -->

            <!-- Column -->
            <article class="one-fourth">
                <h6>Follow Us</h6>
                <ul class="social">
                    <li><a href="#" title="Facebook"><i class="fa fa-fw fa-facebook"></i></a></li>
                    <li><a href="#" title="Twitter"><i class="fa fa-fw fa-twitter"></i></a></li>
                    <li><a href="#" title="Google Plus"><i class="fa fa-fw fa-google-plus"></i></a></li>
                    <li><a href="#" title="LinkedIn"><i class="fa fa-fw fa-linkedin"></i></a></li>
                    <li><a href="#" title="Pinterest"><i class="fa fa-fw fa-pinterest-p"></i></a></li>
                    <li><a href="#" title="Vimeo"><i class="fa fa-fw fa-vimeo"></i></a></li>
                </ul>
            </article>
            <!-- //Column -->
        </div>

        <div class="copy">
            <p>Copyright 2016, SwiftMove. All rights reserved. </p>

            <nav role="navigation" class="foot-nav">
                <ul>
                    <li><a href="#" title="Home">Home</a></li>
                    <li><a href="#" title="Blog">Blog</a></li>
                    <li><a href="#" title="About Us">About Us</a></li>
                    <li><a href="#" title="Contact Us">Contact Us</a></li>
                    <li><a href="#" title="Terms of Use">Terms of Use</a></li>
                    <li><a href="#" title="Help">Help</a></li>
                    <li><a href="#" title="For Partners">For Partners</a></li>
                </ul>
            </nav>
        </div>
    </div>
</footer>
<!-- //Footer -->
	
    <!-- jQuery -->
<!-- jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
<script src="https://cdn.jsdelivr.net/jquery.ui.timepicker.addon/1.4.5/jquery-ui-timepicker-addon.min.js"></script>

<!-- Your custom scripts -->
<script src="js/jquery.uniform.min.js"></script>
<script src="js/jquery.slicknav.min.js"></script>
<script src="js/wow.min.js"></script>
<script src="js/search.js"></script>
<script src="js/scripts.js"></script>
	<script>
		$(document).ready(function () {
			$('.single').hide().first().show();
			$('.categories li:first').addClass('active');

			$('.categories a').on('click', function (e) {
				e.preventDefault();
				$(this).closest('li').addClass('active').siblings().removeClass('active');
				$($(this).attr('href')).show().siblings('.single').hide();
			});

			var hash = $.trim( window.location.hash );
			if (hash) $('.categories a[href$="'+hash+'"]').trigger('click');
		});
	</script>

<script>



document.addEventListener("DOMContentLoaded", function() {
    const user = JSON.parse(localStorage.getItem("user"));
	const userEmail = user.email;
    const bookingsContainer = document.getElementById("my-bookings"); // Container where you will show bookings

    // Function to fetch bookings by email
    async function fetchBookingsByEmail() {
        try {
            const response = await fetch('http://localhost:3000/api/v1/bookingsByEmail', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ email: userEmail })
            });

            if (response.ok) {
                const data = await response.json();
                if (data.length > 0) {
                    displayBookings(data);
                } else {
                    bookingsContainer.innerHTML = "<p>No bookings found</p>";
                }
            } else {
                throw new Error("Failed to fetch bookings");
            }
        } catch (error) {
            console.error("Error fetching bookings:", error);
            bookingsContainer.innerHTML = "<p>Error fetching bookings. Please try again later.</p>";
        }
    }

    // Function to display bookings in the HTML
    function displayBookings(bookings) {
        bookingsContainer.innerHTML = ""; // Clear any previous content

        bookings.forEach((booking) => {
            const bookingElement = document.createElement("div");
            bookingElement.classList.add("box", "history");

            bookingElement.innerHTML = `
                <h6>${booking.date} <small>at</small> ${booking.departureTime}<br />${booking.depLocation} <small>to</small> ${booking.arrLocation}</h6>
                <div class="row">
                    <div class="one-third">
                        <p><span>Vehicle:</span> ${booking.transportType}</p>
                    </div>
                    <div class="two-third">
                        <p><span>Extras:</span> ${booking.baggageCost ? booking.baggageCost + " kg baggage" : "No extras"}</p>
                    </div>
                </div>
                <div class="price">${booking.price} Ksh</div>
                <a href="#" title="Cancel">Cancel</a> &nbsp;|&nbsp; <a href="#" title="Modify">Modify</a>
            `;

            bookingsContainer.appendChild(bookingElement);
        });
    }

    // Call the function to fetch bookings
    fetchBookingsByEmail();
});
</script>
	
	<!-- TEMPLATE STYLES -->
	<div id="template-styles">
		<h2>Template Styles <a href="#"><img class="s-s-icon" src="images/settings.png" alt="Style switcher" /></a></h2>
		<div>
		<h3>Colors</h3>
			<ul class="colors" >
				<li><a href="#" class="beige" title="beige">beige</a></li>
				<li><a href="#" class="dblue" title="dblue">dblue</a></li>
				<li><a href="#" class="dgreen" title="dgreen">dgreen</a></li>
				<li><a href="#" class="grey" title="grey">grey</a></li>
				<li><a href="#" class="lblue" title="lblue">lblue</a></li>
				<li><a href="#" class="lgreen" title="lgreen">lgreen</a></li>
				<li><a href="#" class="lime" title="lime">lime</a></li>
				<li><a href="#" class="orange" title="orange">orange</a></li>
				<li><a href="#" class="peach" title="peach">peach</a></li>
				<li><a href="#" class="pink" title="pink">pink</a></li>
				<li><a href="#" class="purple" title="purple">purple</a></li>
				<li><a href="#" class="red" title="red">red</a></li>
				<li><a href="#" class="teal" title="teal">teal</a></li>
				<li><a href="#" class="turquoise" title="turquoise">turquoise</a></li>
				<li><a href="#" class="yellow" title="yellow">yellow</a></li>
			</ul>
		</div>
	</div>
	<script src="js/styler.js"></script>
  </body>

<!-- Mirrored from themeenergy.com/themes/html/transfers/account.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 06 Feb 2025 18:15:22 GMT -->
</html>